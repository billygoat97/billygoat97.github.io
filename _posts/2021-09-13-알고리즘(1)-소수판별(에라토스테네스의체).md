---
title: "알고리즘(1) 소수판별(에라토스테네스의 체)"
except: "소수 판별 알고리즘을 알아보자"
categories:
  - 알고리즘
tags:
  - 소수
  - 에라토스테네스의 체
  - 소수 판정
  - 알고리즘 문제
toc: true
toc_sticky: true
---

# 알고리즘(1) 소수판별(에라토스테네스의 체)
DB까지 정리가 끝난 이후에 번아웃과 다른 일이 많아서 블로그 게재를 안했는데 다시 시작하겠습니다 :)

## <span style = "color:powderblue"> ※ 소수란 무엇인가?

- 자기 자신과 1을 제외하고는 나눌수 없는 수를 의미한다.
- 여기서 1은 포함하지 않는다! 
- ex) 2,3,5,7,11,13....
<br><br><br>

### <span style = "color:powderblue"> ※ 소수를 판별하는 방법은 무엇이 있을까?

- 1. 자기보다 작은 자연수 (2이상부터 자기자신 -1)를 나눠보며 실제로 나머지가 없는지 판별할 수 있다.
- 2. 자기보다 작은 자연수 (2이상부터 sqrt(자기자신))를 나눠보며 실제로 나머지가 없는지 판별할 수 있다.
- 3. 애초에 소수인 것을 전부 다 구해서 확인해 본다.

언뜻 보면 자기보다 작은 자연수를 나눠보며 실제로 나머지가 있는지 없는지를 판별하는 것이 제일 빠르다고 생각 할 수 있다.
정말로 그러한가? O(n)의 시간 복잡도를 가지고 찾을 수 있겠지만, 한번만 소수를 찾는 것이 아닌, 여러번 소수를 찾는 경우에는 이야기가 달라진다.

그렇다면 두번째 케이스를 보면, 자기자신에 루트를 씌운것까지 구하면 된다고 되어 있는데, 두 자연수의 곱으로 표현되는 경우, 자기자신의 루트보다 큰 수의 곱과 다른 수로 표현이 된다면,
그 다른 수는 자기 루트보다 작기 때문에 실제로 이 방법이 시간을 줄이는 것이 훨씬 효율적이다. O(sqrt(n))?? 정도로 표현하면 좋겠다 (<- 실제로 저렇게 표기하지는 않는다)

그렇다면 세번째 방법인 소수인 것을 전부 다 구해서 확인해 본다라는 세번째 내용은 어떤 방법을 의미하는 것일까?
<br><br><br>

### <span style = "color:powderblue"> ※ 에라토스테네스의 체
- 에라토스테네스의 체란 무엇일까?
어떤 물체를 체에 걸러서 이용하는 것과 마찬가지로 소수가 아닌 내용을 애초에 지워버리는 것을 의미한다.

쉽게 예시를 설명한다면 다음과 같다.
2는 소수이지만, 2의 배수들은 2로 나누어지기 때문에 소수가 아님을 알 수 있다. 그렇다면, 일점 범위 내의 2의 배수인 수들을 소수가 아니라고 생각하고,
3은 2의 배수가 아니기 때문에 소수이며, 3의 배수들은 3으로 나누어지기 때문에 소수가 아니라고 정리한다.
그렇다면 4의 경우는 어떠한가? 4는 2의 배수로 소수가 아니라고 판별되었기 때문에 이미 소수가 아니며, 소수가 아닌 4의 배수들은 소수가 아니라고 정의가 되었다(2의 배수일때 걸러짐)
마찬가지 방식으로 이를 계속 진행하면 소수가 아닌 내용들을 범위 횟수가량만 확인하면 된다는 것을 알 수 있다.
저장했기 때문에, 여러번 호출하더라도, 소수인지 아닌지 확인이 추가적인 연산 없이 확인할 수 있다.
![image](/images/Algorithm-01-01.png)

직접 짠 예시 코드인데, 중요한 점은 j가 i*i부터 시작한다는 점. I 자체는 소수라 건들지 않으며, I*1부터 시작하지 않는 이유는 1~i < i이기 때문에 이미 배수 처리가 다 되어있기 때문이다.
<br><br><br>

### <span style = "color:powderblue"> ※ 범위는 어디까지 해야 하는가?
그냥 코드를 보면, 그래서 범위를 어디까지 해야 하는가? 에 대한 질문이 생긴다.
만약에 범위 자체가 주어진다면 그 범위까지 하면 되지만, 범위가 정해지지 않았다면, 더도 덜도 말고 1000만까지만 연산을 해두자.
천만까지의 연산은 금방 이루어지며, 그 이상의 수가 입력이 된다면, 1000만까지의 소수를 나눠보기만 하면 된다( 여기서 소수는 벡터라던지에 저장해놓으면 빠르다)
천만 * 천만의 범위를 벗어나는 것은 없다고 보면 된다. :) 있으면 어쩔수 없구!

<br><br><br>

<https://www.acmicpc.net/problem/9020>
<https://www.acmicpc.net/problem/1747>
위 두문제는 소수를 이용한 문제 풀이이다. 골드 난이도만 되어도 에라토스테네스의 체를 꼭! 써야 한다. 요즘 코테에서도 소수를 이용하는 문제가 나오니 알아두면 좋을것 같다.